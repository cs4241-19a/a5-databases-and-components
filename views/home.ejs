<h2 class="mb-4 mt-4">Your Watchlist</h2>
<a href="/users/logout" class="btn btn-outline-secondary">Logout</a>
<p class="lead mb-3 mt-4">Welcome back <%= user.name %>. What show / film will you watch next?</p>

<div class="mt-4 mb-4" id="mainLogo">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react-dom.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.21.1/babel.min.js"></script>
        <script type="text/babel">
        const e = React.createElement;
        class Logo extends React.Component {
          render() {
            return e(
              'img',
              {src: 'https://cdn.glitch.com/024ed1c4-78f7-47b2-b885-216577de7e4f%2F827.gif?v=1570410660178',
              height: '20rem'}
            );
          }
        }

        const domContainer = document.querySelector('#mainLogo');
        ReactDOM.render(e(Logo), domContainer);
        </script>
</div>  
<section class="entry">
  <form action="/home/list" method="POST">
      <div class="form-group">
        <label for="genre">Genre</label>
          <select class="custom-select" name="genre">
            <option value="action">Action</option>
            <option value="adventure">Adventure</option>
            <option value="comedy">Comedy</option>
            <option value="drama">Drama</option>
            <option value="fantasy">Fantasy</option>
            <option value="romance">Romance</option>
            <option value="science-fiction">Science Fiction</option>
            <option value="western">Western</option>
          </select> 
      </div>
      <div class="form-group">
      <label for="Input" class="col-xs-2 control-label">Input / Edit existing below:</label>
      <div class="col-xs-10">
        <div class="form-inline">
          <div class="form-group">
            <input
              type="name"
              id="name"
              name="name"
              class="form-control"
              placeholder="Name"
              value="<%= typeof name != 'undefined' ? name : '' %>"
            />
          </div>
          <div class="form-group">
            <input
              type="director"
              id="director"
              name="director"
              class="form-control"
              placeholder="Director"
              value="<%= typeof email != 'undefined' ? email : '' %>"
            />
          </div>
          <div class="form-group">
          <select class="custom-select" name="rating">
            <option value="" disabled selected>Rating</option>
            <option value="0.0">0.0</option>
            <option value="0.5">0.5</option>
            <option value="1.0">1.0</option>
            <option value="1.5">1.5</option>
            <option value="2.0">2.0</option>
            <option value="2.5">2.5</option>
            <option value="3.0">3.0</option>
            <option value="3.5">3.5</option>
            <option value="4.0">4.0</option>
            <option value="4.5">4.5</option>
            <option value="5.0">5.0</option>
            <option value="5.5">5.5</option>
            <option value="6.0">6.0</option>
            <option value="6.5">6.5</option>
            <option value="7.0">7.0</option>
            <option value="7.5">7.5</option>
            <option value="8.0">8.0</option>
            <option value="8.5">8.5</option>
            <option value="9.0">9.0</option>
            <option value="9.5">9.5</option>
            <option value="10.0">10.0</option>
          </select> 
          </div>
          <div class="form-group">
            <button type="submit" class="btn btn-primary btn-block">
              Submit
            </button>
          </div>
        </div>
      </div>
</form>
</section>

<table class="table table-hover mt-5">
  <thead>
    <tr class="table-dark">
      <th scope="col">Genre</th>
      <th scope="col">Name</th>
      <th scope="col">Director</th>
      <th scope="col">Rating</th>
      <th scope="col">Edit</th>
    </tr>
  </thead>
  <tbody>
    <%user.watchlist.forEach( film => {%>
      <tr>
        <th scope="row"><b><%=film.genre%></b></th>
        <td><%=film.name%></td>
        <td><%=film.director%></td>
        <td><%=film.rating%></td>
        <td>
          <form id="form1" action="/home/delete/<%= film._id %>"  method="POST">
            <input id="delete-elem" type="hidden" class="form-control" type="text" />
            <button type="submit" class="btn btn-danger">
              Delete
            </button>
          </form>
        </td>
      </tr>
    <%});%>
  </tbody>
</table> 
